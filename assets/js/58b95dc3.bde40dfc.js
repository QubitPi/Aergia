"use strict";(self.webpackChunkhashicorp_aws=self.webpackChunkhashicorp_aws||[]).push([[8337],{2424:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>u,contentTitle:()=>a,default:()=>h,frontMatter:()=>o,metadata:()=>r,toc:()=>c});var t=s(5893),i=s(1151);const o={sidebar_position:8,title:"Auxiliary Tools"},a=void 0,r={id:"auxiliary",title:"Auxiliary Tools",description:"GitHub Tools",source:"@site/docs/8-auxiliary.md",sourceDirName:".",slug:"/auxiliary",permalink:"/hashicorp-aws/docs/auxiliary",draft:!1,unlisted:!1,editUrl:"https://github.com/QubitPi/hashicorp-aws/tree/master/docs/docs/8-auxiliary.md",tags:[],version:"current",sidebarPosition:8,frontMatter:{sidebar_position:8,title:"Auxiliary Tools"},sidebar:"tutorialSidebar",previous:{title:"Configuration Management for Immutable Infrastructure",permalink:"/hashicorp-aws/docs/IaC-configuration-management"}},u={},c=[{value:"GitHub Tools",id:"github-tools",level:2},{value:"Auto Version",id:"auto-version",level:3}];function l(e){const n={code:"code",h2:"h2",h3:"h3",p:"p",pre:"pre",...(0,i.a)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h2,{id:"github-tools",children:"GitHub Tools"}),"\n",(0,t.jsx)(n.h3,{id:"auto-version",children:"Auto Version"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'git tag -a 0.0.1 -m "Version 0.0.1"\n'})}),"\n",(0,t.jsx)(n.p,{children:"NPM example:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:'---\nname: CI/CD\n\n"on":\n  pull_request:\n  push:\n    branches:\n      - master\n\nenv:\n  USER: QubitPi\n  EMAIL: jack20220723@gmail.com\n\njobs:\n  release:\n    name: Publish NPM Packages\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v3\n        with:\n          fetch-depth: 0 # this is needed for feching tags for "tag-for-release.bash" below\n      - name: Set node version to 18\n        uses: actions/setup-node@v3\n        with:\n          node-version: 18\n          registry-url: "https://registry.npmjs.org"\n      - name: Download auto-version bump scripts\n        run: |\n          git clone https://github.com/QubitPi/hashicorp-aws.git ../hashicorp-aws\n          cp ../hashicorp-aws/auxiliary/github/tag-for-release.bash .github/\n          cp ../hashicorp-aws/auxiliary/github/upversion.py .github/\n      - name: Tag for release\n        run: |\n          git config --global user.name \'$USER\'\n          git config --global user.email \'$EMAIL\'\n          .github/tag-for-release.bash\n      - name: Set release version\n        run: |\n          VERSION=$(git describe)\n          npm version $VERSION\n      - name: Publish to NPM Packages\n        run: |\n          npm config set \'//registry.npmjs.org/:_authToken\' "${NPM_TOKEN}"\n          npm publish --access public\n        env:\n          NPM_TOKEN: ${{ secrets.NPM_TOKEN }}\n'})})]})}function h(e={}){const{wrapper:n}={...(0,i.a)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(l,{...e})}):l(e)}},1151:(e,n,s)=>{s.d(n,{Z:()=>r,a:()=>a});var t=s(7294);const i={},o=t.createContext(i);function a(e){const n=t.useContext(o);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),t.createElement(o.Provider,{value:n},e.children)}}}]);