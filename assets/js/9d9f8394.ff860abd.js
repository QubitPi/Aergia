"use strict";(self.webpackChunkhashicorp_aws=self.webpackChunkhashicorp_aws||[]).push([[9360],{8059:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>r,default:()=>d,frontMatter:()=>s,metadata:()=>a,toc:()=>c});var i=t(5893),o=t(1151);const s={sidebar_position:8,title:"General Troubleshooting"},r="Troubleshooting",a={id:"troubleshooting",title:"General Troubleshooting",description:"This section discusses the common issue that can happen during all types of deployments.",source:"@site/docs/troubleshooting.md",sourceDirName:".",slug:"/troubleshooting",permalink:"/hashicorp-aws/docs/troubleshooting",draft:!1,unlisted:!1,editUrl:"https://github.com/QubitPi/hashicorp-aws/tree/master/docs/docs/troubleshooting.md",tags:[],version:"current",sidebarPosition:8,frontMatter:{sidebar_position:8,title:"General Troubleshooting"},sidebar:"tutorialSidebar",previous:{title:"Configuration Management for Immutable Infrastructure",permalink:"/hashicorp-aws/docs/IaC-configuration-management"},next:{title:"Kong API Gateway",permalink:"/hashicorp-aws/docs/kong"}},l={},c=[{value:"HashiCorp",id:"hashicorp",level:2},{value:"I Would Like to SSH into EC2 for Debugging Purposes",id:"i-would-like-to-ssh-into-ec2-for-debugging-purposes",level:3},{value:"Value () for parameter groupId is invalid. The value cannot be empty",id:"value--for-parameter-groupid-is-invalid-the-value-cannot-be-empty",level:3},{value:"Deployment via GitHub Actions",id:"deployment-via-github-actions",level:2},{value:"Deployment via Screwdriver CD",id:"deployment-via-screwdriver-cd",level:2}];function u(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",p:"p",pre:"pre",...(0,o.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h1,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,i.jsx)(n.p,{children:"This section discusses the common issue that can happen during all types of deployments."}),"\n",(0,i.jsx)(n.h2,{id:"hashicorp",children:"HashiCorp"}),"\n",(0,i.jsx)(n.h3,{id:"i-would-like-to-ssh-into-ec2-for-debugging-purposes",children:"I Would Like to SSH into EC2 for Debugging Purposes"}),"\n",(0,i.jsxs)(n.p,{children:["Fully adapting\n",(0,i.jsx)(n.a,{href:"https://www.hashicorp.com/resources/what-is-mutable-vs-immutable-infrastructure",children:"immutable infrastructure"}),',\nhashicorp-aws "seals" EC2 instances once it\'s created; that means not even admin or anyone else can jump into that\nserver vis SSH. ',(0,i.jsx)(n.em,{children:"It's completely immutable"})]}),"\n",(0,i.jsx)(n.admonition,{type:"tip",children:(0,i.jsx)(n.p,{children:"It is very important to connect our deployed infrastructure to an external logging & auditing service like ELK, because\nonce being deployed as an immutable infrastructure, the EC2 is completely sealed in a sense that no one can SSH into it.\nThis means logs or other metrics are not available unless they are send to an external logging & auditing service such as\nELK. Our HACP offers out-of-the box deployment of ELK and allow the deployment in EC2 to automatically connect to it to\nsend logs and metrics, which gives us a lot better experience on working with webservice logging & auditing."})}),"\n",(0,i.jsx)(n.p,{children:"Another somewhat more time-consuming approach is to manually create an EC2 from pushed AMI image, specifying key pair\nand run each app's corresponding Terraform init script after SSH into it."}),"\n",(0,i.jsx)(n.h3,{id:"value--for-parameter-groupid-is-invalid-the-value-cannot-be-empty",children:"Value () for parameter groupId is invalid. The value cannot be empty"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-console",children:"aws_instance.***: Creating...\n\u2577\n\u2502 Error: creating EC2 Instance: InvalidParameterValue: Value () for parameter groupId is invalid. The value cannot be empty\n\u2502 status code: 400, request id: ***\n\u2502 ...\n"})}),"\n",(0,i.jsx)(n.p,{children:"This could happen when hashicorp-aws is using Terraform to launch EC2 instance. One possibility is the security group of\nthe instance is not found or hasn't been created yet."}),"\n",(0,i.jsx)(n.h2,{id:"deployment-via-github-actions",children:"Deployment via GitHub Actions"}),"\n",(0,i.jsx)(n.h2,{id:"deployment-via-screwdriver-cd",children:"Deployment via Screwdriver CD"}),"\n",(0,i.jsxs)(n.p,{children:["Please visit ",(0,i.jsx)(n.a,{href:"https://qubitpi.github.io/screwdriver-cd-guide/user-guide/troubleshooting",children:"Screwdriver troubleshooting"})," for issues about using Screwdriver CD."]})]})}function d(e={}){const{wrapper:n}={...(0,o.a)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(u,{...e})}):u(e)}},1151:(e,n,t)=>{t.d(n,{Z:()=>a,a:()=>r});var i=t(7294);const o={},s=i.createContext(o);function r(e){const n=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),i.createElement(s.Provider,{value:n},e.children)}}}]);